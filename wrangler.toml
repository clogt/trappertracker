name = "trappertracker"
main = "worker/index.js"
compatibility_date = "2024-03-01"

# --- FIX: Tell Wrangler to ignore the missing package ---
# This is the most common and direct fix for the build error.
external_modules = ["@cloudflare/kv-asset-handler"]

# --- Static Site Configuration ---
[site]
bucket = "dist"

# --- D1 Database Configuration (Fixed Array Syntax) ---
[[d1_databases]]
binding = "DB"
database_name = "trappertrackerdb"
database_id = "d7c07df6-5947-4f95-94c2-da324b4763d3"

# --- R2 Bucket Configuration (Fixed Array Syntax) ---
[[r2_buckets]]
binding = "MEDIA_BUCKET"
bucket_name = "trapper-tracker-photos"
